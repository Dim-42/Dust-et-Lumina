<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    <nav class="nav-interface">
            {% for link in site.navigation %}
                <a href="{{ link.url | relative_url }}" class="nav-link">
                    {{ link.title | upcase }}
                </a>
            {% endfor %}
    </nav>
    <header style="border-bottom: 1px solid var(--accent-dim); margin-bottom: 2rem; padding-bottom: 1rem;">
        DUST ET LUMINA
    </header>
</head>
<div id="loading-screen">
    <div class="loader-content">
        <div class="scanner-line"></div>
        <p class="system-msg">DATABASE LOADING...</p>
        <p class="system-msg">DECRYPTING SECTORS...</p>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const loader = document.getElementById('loading-screen');
        
        // Check if "hasLoaded" exists in this tab's session memory
        if (!sessionStorage.getItem('hasLoaded')) {
            // First time opening/refreshing: Show animation for 2 seconds
            setTimeout(() => {
                loader.classList.add('fade-out');
                // Set the memory so it doesn't show again on internal clicks
                sessionStorage.setItem('hasLoaded', 'true');
            }, 2000);
        } else {
            // User is just navigating: Hide loader immediately
            loader.style.display = 'none';
        }
    });
</script>
<body>
    {{ content }}
</body>
</html>